<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>동적폼전송실습</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <form id="register-form">
        이름 : <input type="text" name="name" /><br />
        성별 : <input type="radio" name="gender" value="남자"/> 남자
        <input type="radio" name="gender" value="여자"/> 여자<br />
        생년월일 : <input type="date" name="birthDate" /><br />
        관심사 : <input type="checkbox" name="interest" value="여행"/>여행
        <input type="checkbox" name="interest" value="패션"/>패션
        <input type="checkbox" name="interest" value="음식"/>음식<br/>
        <button type="button" onclick="register();">회원가입</button>
    </form>
    <script>
        function register(){
            const form = document.getElementById('register-form');

            const seletedInterest = document.querySelectorAll(
                'input[name="interest"]:checked'
            );
            const selectedItems = [];
            seletedInterest.forEach((e) => selectedItems.push(e.value));

            const data = {
                name: form.name.value,
                age: form.age.value,
                birthDate: form.birthDate.value,
                interest: selectedItems,
            };

            axios({
                method : "POST",
                url: "/register",
                data
            }).then((res) => {
                console.log(res.data);
            });
        }
    </script>
</body>
</html>